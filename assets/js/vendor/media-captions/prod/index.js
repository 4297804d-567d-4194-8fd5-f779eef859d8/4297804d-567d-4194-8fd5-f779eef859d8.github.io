/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/media-captions@1.0.4/dist/prod/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
const ParseErrorCode={LoadFail:0,BadSignature:1,BadTimestamp:2,BadSettingValue:3,BadFormat:4,UnknownSetting:5};class ParseError extends Error{code;line;constructor(t){super(t.reason),this.code=t.code,this.line=t.line}}const LINE_TERMINATOR_RE=/\r?\n|\r/gm;class TextLineTransformStream{writable;readable;constructor(t){const e=new TextStreamLineIterator(t);this.writable=new WritableStream({write(t){e.transform(t)},close(){e.close()}}),this.readable=new ReadableStream({start(t){e.onLine=e=>t.enqueue(e),e.onClose=()=>t.close()}})}}class TextStreamLineIterator{a="";b;onLine;onClose;constructor(t){this.b=new TextDecoder(t)}transform(t){this.a+=this.b.decode(t,{stream:!0});const e=this.a.split(LINE_TERMINATOR_RE);this.a=e.pop()||"";for(let t=0;t<e.length;t++)this.onLine(e[t].trim())}close(){this.a&&this.onLine(this.a.trim()),this.a="",this.onClose()}}async function parseText(t,e){return parseTextStream(new ReadableStream({start(e){const i=t.split(LINE_TERMINATOR_RE);for(const t of i)e.enqueue(t);e.close()}}),e)}async function parseTextStream(t,e){const i=e?.type??"vtt";let s,r;if("string"==typeof i)switch(i){case"srt":s=(await import("./srt-parser.js")).default;break;case"ssa":case"ass":s=(await import("./ssa-parser.js")).default;break;default:s=(await Promise.resolve().then((function(){return vttParser}))).default}else s=i;const n=t.getReader(),o=s(),a=!!e?.strict||!!e?.errors;await o.init({strict:!1,...e,errors:a,type:i,cancel(){n.cancel(),r=o.done(!0)}});let l=1;for(;;){const{value:t,done:e}=await n.read();if(e){o.parse("",l),r=o.done(!1);break}o.parse(t,l),l++}return r}async function parseResponse(t,e){const i=await t;if(!i.ok||!i.body){let t;return{metadata:{},cues:[],regions:[],errors:[t]}}const s=i.headers.get("content-type")||"",r=s.match(/text\/(.*?)(?:;|$)/)?.[1],n=s.match(/charset=(.*?)(?:;|$)/)?.[1];return parseByteStream(i.body,{type:r,encoding:n,...e})}async function parseByteStream(t,{encoding:e="utf-8",...i}={}){return parseTextStream(t.pipeThrough(new TextLineTransformStream(e)),i)}class TextCue extends EventTarget{id="";startTime;endTime;text;pauseOnExit=!1;constructor(t,e,i){super(),this.startTime=t,this.endTime=e,this.text=i}addEventListener(t,e,i){super.addEventListener(t,e,i)}removeEventListener(t,e,i){super.removeEventListener(t,e,i)}}const IS_SERVER="undefined"==typeof document,CueBase=IS_SERVER?TextCue:window.VTTCue;class VTTCue extends CueBase{region=null;vertical="";snapToLines=!0;line="auto";lineAlign="start";position="auto";positionAlign="auto";size=100;align="center";style}class VTTRegion{id="";width=100;lines=3;regionAnchorX=0;regionAnchorY=100;viewportAnchorX=0;viewportAnchorY=100;scroll=""}const COMMA$1=",",PERCENT_SIGN$1="%";function toNumber(t){const e=parseInt(t,10);return Number.isNaN(e)?null:e}function toPercentage(t){const e=parseInt(t.replace(PERCENT_SIGN$1,""),10);return!Number.isNaN(e)&&e>=0&&e<=100?e:null}function toCoords(t){if(!t.includes(","))return null;const[e,i]=t.split(",").map(toPercentage);return null!==e&&null!==i?[e,i]:null}function toFloat(t){const e=parseFloat(t);return Number.isNaN(e)?null:e}const HEADER_MAGIC="WEBVTT",COMMA=",",PERCENT_SIGN="%",SETTING_SEP_RE=/[:=]/,SETTING_LINE_RE=/^[\s\t]*(region|vertical|line|position|size|align)[:=]/,NOTE_BLOCK_START="NOTE",REGION_BLOCK_START="REGION",REGION_BLOCK_START_RE=/^REGION:?[\s\t]+/,SPACE_RE=/[\s\t]+/,TIMESTAMP_SEP="--\x3e",TIMESTAMP_SEP_RE=/[\s\t]*-->[\s\t]+/,ALIGN_RE=/start|center|end|left|right/,LINE_ALIGN_RE=/start|center|end/,POS_ALIGN_RE=/line-(?:left|right)|center|auto/,TIMESTAMP_RE=/^(?:(\d{1,2}):)?(\d{2}):(\d{2})(?:\.(\d{1,3}))?$/;var VTTBlock=(t=>(t[t.None=0]="None",t[t.Header=1]="Header",t[t.Cue=2]="Cue",t[t.Region=3]="Region",t[t.Note=4]="Note",t))(VTTBlock||{});class VTTParser{h;e=0;i={};j={};l=[];c=null;d=null;m=[];f;n="";async init(t){this.h=t,t.strict&&(this.e=1),t.errors&&(this.f=(await import("./errors.js")).ParseErrorBuilder)}parse(t,e){if(""===t)this.c?(this.l.push(this.c),this.h.onCue?.(this.c),this.c=null):this.d?(this.j[this.d.id]=this.d,this.h.onRegion?.(this.d),this.d=null):1===this.e&&(this.k(t,e),this.h.onHeaderMetadata?.(this.i)),this.e=0;else if(this.e)switch(this.e){case 1:this.k(t,e);break;case 2:if(this.c){const i=this.c.text.length>0;!i&&SETTING_LINE_RE.test(t)?this.o(t.split(SPACE_RE),e):this.c.text+=(i?"\n":"")+t}break;case 3:this.p(t.split(SPACE_RE),e)}else if(t.startsWith("NOTE"))this.e=4;else if(t.startsWith("REGION"))this.e=3,this.d=new VTTRegion,this.p(t.replace(REGION_BLOCK_START_RE,"").split(SPACE_RE),e);else if(t.includes("--\x3e")){const i=this.q(t,e);i&&(this.c=new VTTCue(i[0],i[1],""),this.c.id=this.n,this.o(i[2],e)),this.e=2}else 1===e&&this.k(t,e);this.n=t}done(){return{metadata:this.i,cues:this.l,regions:Object.values(this.j),errors:this.m}}k(t,e){if(e>1){if(SETTING_SEP_RE.test(t)){const[e,i]=t.split(SETTING_SEP_RE);e&&(this.i[e]=(i||"").replace(SPACE_RE,""))}}else t.startsWith("WEBVTT")?this.e=1:this.g(this.f?.r())}q(t,e){const[i,s=""]=t.split(TIMESTAMP_SEP_RE),[r,...n]=s.split(SPACE_RE),o=parseVTTTimestamp(i),a=parseVTTTimestamp(r);if(null!==o&&null!==a&&a>o)return[o,a,n];null===o&&this.g(this.f?.s(i,e)),null===a&&this.g(this.f?.t(r,e)),null!=o&&null!==a&&a>o&&this.g(this.f?.u(o,a,e))}p(t,e){let i;for(let s=0;s<t.length;s++)if(SETTING_SEP_RE.test(t[s])){i=!1;const[r,n]=t[s].split(SETTING_SEP_RE);switch(r){case"id":this.d.id=n;break;case"width":const t=toPercentage(n);null!==t?this.d.width=t:i=!0;break;case"lines":const s=toNumber(n);null!==s?this.d.lines=s:i=!0;break;case"regionanchor":const o=toCoords(n);null!==o?(this.d.regionAnchorX=o[0],this.d.regionAnchorY=o[1]):i=!0;break;case"viewportanchor":const a=toCoords(n);null!==a?(this.d.viewportAnchorX=a[0],this.d.viewportAnchorY=a[1]):i=!0;break;case"scroll":"up"===n?this.d.scroll="up":i=!0;break;default:this.g(this.f?.v(r,n,e))}i&&this.g(this.f?.w(r,n,e))}}o(t,e){let i;for(let s=0;s<t.length;s++)if(i=!1,SETTING_SEP_RE.test(t[s])){const[r,n]=t[s].split(SETTING_SEP_RE);switch(r){case"region":const t=this.j[n];t&&(this.c.region=t);break;case"vertical":"lr"===n||"rl"===n?(this.c.vertical=n,this.c.region=null):i=!0;break;case"line":const[s,o]=n.split(",");if(s.includes("%")){const t=toPercentage(s);null!==t?(this.c.line=t,this.c.snapToLines=!1):i=!0}else{const t=toFloat(s);null!==t?this.c.line=t:i=!0}LINE_ALIGN_RE.test(o)?this.c.lineAlign=o:o&&(i=!0),"auto"!==this.c.line&&(this.c.region=null);break;case"position":const[a,l]=n.split(","),c=toPercentage(a);null!==c?this.c.position=c:i=!0,l&&POS_ALIGN_RE.test(l)?this.c.positionAlign=l:l&&(i=!0);break;case"size":const h=toPercentage(n);null!==h?(this.c.size=h,h<100&&(this.c.region=null)):i=!0;break;case"align":ALIGN_RE.test(n)?this.c.align=n:i=!0;break;default:this.g(this.f?.x(r,n,e))}i&&this.g(this.f?.y(r,n,e))}}g(t){if(t){if(this.m.push(t),this.h.strict)throw this.h.cancel(),t;this.h.onError?.(t)}}}function parseVTTTimestamp(t){const e=t.match(TIMESTAMP_RE);if(!e)return null;const i=e[1]?parseInt(e[1],10):0,s=parseInt(e[2],10),r=parseInt(e[3],10),n=e[4]?parseInt(e[4].padEnd(3,"0"),10):0;return i<0||s<0||r<0||n<0||s>59||r>59?null:3600*i+60*s+r+n/1e3}function createVTTParser(){return new VTTParser}var vttParser=Object.freeze({__proto__:null,VTTBlock:VTTBlock,VTTParser:VTTParser,default:createVTTParser,parseVTTTimestamp:parseVTTTimestamp});const DIGIT_RE=/[0-9]/,MULTI_SPACE_RE=/[\s\t]+/,TAG_NAME={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span",timestamp:"span"},HTML_ENTITIES={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&nbsp;":" ","&lrm;":"‎","&rlm;":"‏"},HTML_ENTITY_RE=/&(?:amp|lt|gt|quot|#(0+)?39|nbsp|lrm|rlm);/g,COLORS=new Set(["white","lime","cyan","red","yellow","magenta","blue","black"]),BLOCK_TYPES=new Set(Object.keys(TAG_NAME));function tokenizeVTTCue(t){let e,i="",s=1,r=[],n=[];for(let r=0;r<t.text.length;r++){const c=t.text[r];switch(s){case 1:"<"===c?(l(),s=2):i+=c;break;case 2:switch(c){case"\n":case"\t":case" ":o(),s=4;break;case".":o(),s=3;break;case"/":s=5;break;case">":o(),s=1;break;default:!i&&DIGIT_RE.test(c)&&(s=6),i+=c}break;case 3:switch(c){case"\t":case" ":case"\n":a(),e&&e.class?.trim(),s=4;break;case".":a();break;case">":a(),e&&e.class?.trim(),s=1;break;default:i+=c}break;case 4:">"===c?(i=i.replace(MULTI_SPACE_RE," "),"v"===e?.type?e.voice=replaceHTMLEntities(i):"lang"===e?.type&&(e.lang=replaceHTMLEntities(i)),i="",s=1):i+=c;break;case 5:">"===c&&(i="",e=n.pop(),s=1);break;case 6:if(">"===c){const r=parseVTTTimestamp(i);null!==r&&r>=t.startTime&&r<=t.endTime&&(i="timestamp",o(),e.time=r),i="",s=1}else i+=c}}function o(){if(BLOCK_TYPES.has(i)){const t=e;e=createBlockNode(i),t?(n[n.length-1]!==t&&n.push(t),t.children.push(e)):r.push(e)}i="",s=1}function a(){if(e&&i){const t=i.replace("bg_","");COLORS.has(t)?e[i.startsWith("bg_")?"bgColor":"color"]=t:e.class=e.class?e.class+" "+i:i}i=""}function l(){if(!i)return;const t={type:"text",data:replaceHTMLEntities(i)};e?e.children.push(t):r.push(t),i=""}return 1===s&&l(),r}function createBlockNode(t){return{tagName:TAG_NAME[t],type:t,children:[]}}function replaceHTMLEntities(t){return t.replace(HTML_ENTITY_RE,(t=>HTML_ENTITIES[t]||"'"))}function setCSSVar(t,e,i){t.style.setProperty(`--${e}`,i+"")}function setDataAttr(t,e,i=!0){t.setAttribute(`data-${e}`,!0===i?"":i+"")}function setPartAttr(t,e){t.setAttribute("data-part",e)}function getLineHeight(t){return parseFloat(getComputedStyle(t).lineHeight)||0}function createVTTCueTemplate(t){if(IS_SERVER)throw Error("[media-captions] called `createVTTCueTemplate` on the server - use `renderVTTCueString`");const e=document.createElement("template");return e.innerHTML=renderVTTCueString(t),{cue:t,content:e.content}}function renderVTTCueString(t,e=0){return renderVTTTokensString(tokenizeVTTCue(t),e)}function renderVTTTokensString(t,e=0){let i,s="";for(const r of t)if("text"===r.type)s+=r.data;else{const t="timestamp"===r.type;i={},i.class=r.class,i.title="v"===r.type&&r.voice,i.lang="lang"===r.type&&r.lang,i["data-part"]="v"===r.type&&"voice",t&&(i["data-part"]="timed",i["data-time"]=r.time,i["data-future"]=r.time>e,i["data-past"]=r.time<e),i.style=`${r.color?`color: ${r.color};`:""}${r.bgColor?`background-color: ${r.bgColor};`:""}`;const n=Object.entries(i).filter((t=>t[1])).map((t=>`${t[0]}="${!0===t[1]?"":t[1]}"`)).join(" ");s+=`<${r.tagName}${n?" "+n:""}>${renderVTTTokensString(r.children)}</${r.tagName}>`}return s}function updateTimedVTTCueNodes(t,e){if(!IS_SERVER)for(const i of t.querySelectorAll('[data-part="timed"]')){const t=Number(i.getAttribute("data-time"));Number.isNaN(t)||(t>e?setDataAttr(i,"future"):i.removeAttribute("data-future"),t<e?setDataAttr(i,"past"):i.removeAttribute("data-past"))}}function debounce(t,e){let i,s=null;function r(){n(),t(...i),i=void 0}function n(){clearTimeout(s),s=null}return function(){i=[].slice.call(arguments),n(),s=setTimeout(r,e)}}const STARTING_BOX=Symbol(0);function createBox(t){return t instanceof HTMLElement?{top:t.offsetTop,width:t.clientWidth,height:t.clientHeight,left:t.offsetLeft,right:t.offsetLeft+t.clientWidth,bottom:t.offsetTop+t.clientHeight}:{...t}}function moveBox(t,e,i){switch(e){case"+x":t.left+=i,t.right+=i;break;case"-x":t.left-=i,t.right-=i;break;case"+y":t.top+=i,t.bottom+=i;break;case"-y":t.top-=i,t.bottom-=i}}function isBoxCollision(t,e){return t.left<=e.right&&t.right>=e.left&&t.top<=e.bottom&&t.bottom>=e.top}function isAnyBoxCollision(t,e){for(let i=0;i<e.length;i++)if(isBoxCollision(t,e[i]))return e[i];return null}function isWithinBox(t,e){return e.top>=0&&e.bottom<=t.height&&e.left>=0&&e.right<=t.width}function isBoxOutOfBounds(t,e,i){switch(i){case"+x":return e.left<0;case"-x":return e.right>t.width;case"+y":return e.top<0;case"-y":return e.bottom>t.height}}function calcBoxIntersectPercentage(t,e){return Math.max(0,Math.min(t.width,e.right)-Math.max(0,e.left))*Math.max(0,Math.min(t.height,e.bottom)-Math.max(0,e.top))/(t.height*t.width)}function createCSSBox(t,e){return{top:e.top/t.height,left:e.left/t.width,right:(t.width-e.right)/t.width,bottom:(t.height-e.bottom)/t.height}}function resolveRelativeBox(t,e){return e.top=e.top*t.height,e.left=e.left*t.width,e.right=t.width-e.right*t.width,e.bottom=t.height-e.bottom*t.height,e}const BOX_SIDES=["top","left","right","bottom"];function setBoxCSSVars(t,e,i,s){const r=createCSSBox(e,i);for(const e of BOX_SIDES)setCSSVar(t,`${s}-${e}`,100*r[e]+"%")}function avoidBoxCollisions(t,e,i,s){let r,n=1,o={...e};for(let a=0;a<s.length;a++){for(;isBoxOutOfBounds(t,e,s[a])||isWithinBox(t,e)&&isAnyBoxCollision(e,i);)moveBox(e,s[a],1);if(isWithinBox(t,e))return e;const l=calcBoxIntersectPercentage(t,e);n>l&&(r={...e},n=l),e={...o}}return r||o}const POSITION_OVERRIDE=Symbol(0);function positionCue(t,e,i,s){let r,n=i.firstElementChild,o=computeCueLine(e),a=[];if(i[STARTING_BOX]||(i[STARTING_BOX]=createStartingBox(t,i)),r=resolveRelativeBox(t,{...i[STARTING_BOX]}),i[POSITION_OVERRIDE])a=["top"===i[POSITION_OVERRIDE]?"+y":"-y","+x","-x"];else if(e.snapToLines){let i;switch(e.vertical){case"":a=["+y","-y"],i="height";break;case"rl":a=["+x","-x"],i="width";break;case"lr":a=["-x","+x"],i="width"}let s=getLineHeight(n),l=s*Math.round(o),c=t[i]+s,h=a[0];Math.abs(l)>c&&(l=l<0?-1:1,l*=Math.ceil(c/s)*s),o<0&&(l+=""===e.vertical?t.height:t.width,a=a.reverse()),moveBox(r,h,l)}else{const i=""===e.vertical,s=i?"+y":"+x",n=i?r.height:r.width;moveBox(r,s,(i?t.height:t.width)*o/100),moveBox(r,s,"center"===e.lineAlign?n/2:"end"===e.lineAlign?n:0),a=i?["-y","+y","-x","+x"]:["-x","+x","-y","+y"]}return r=avoidBoxCollisions(t,r,s,a),setBoxCSSVars(i,t,r,"cue"),r}function createStartingBox(t,e){const i=createBox(e),s=getStyledPositions(e);if(e[POSITION_OVERRIDE]=!1,s.top&&(i.top=s.top,i.bottom=s.top+i.height,e[POSITION_OVERRIDE]="top"),s.bottom){const r=t.height-s.bottom;i.top=r-i.height,i.bottom=r,e[POSITION_OVERRIDE]="bottom"}return s.left&&(i.left=s.left),s.right&&(i.right=t.width-s.right),createCSSBox(t,i)}function getStyledPositions(t){const e={};for(const i of BOX_SIDES)e[i]=parseFloat(t.style.getPropertyValue(`--cue-${i}`));return e}function computeCueLine(t){return"auto"===t.line?t.snapToLines?-1:100:t.line}function computeCuePosition(t){if("auto"===t.position)switch(t.align){case"start":case"left":return 0;case"right":case"end":return 100;default:return 50}return t.position}function computeCuePositionAlignment(t,e){if("auto"===t.positionAlign)switch(t.align){case"start":return"ltr"===e?"line-left":"line-right";case"end":return"ltr"===e?"line-right":"line-left";case"center":return"center";default:return`line-${t.align}`}return t.positionAlign}const REGION_AXIS=["-y","+y","-x","+x"];function positionRegion(t,e,i,s){let r=Array.from(i.querySelectorAll('[data-part="cue-display"]')),n=0,o=Math.max(0,r.length-e.lines);for(let t=r.length-1;t>=o;t--)n+=r[t].offsetHeight;setCSSVar(i,"region-height",n+"px"),i[STARTING_BOX]||(i[STARTING_BOX]=createCSSBox(t,createBox(i)));let a={...i[STARTING_BOX]};return a=resolveRelativeBox(t,a),a.width=i.clientWidth,a.height=n,a.right=a.left+a.width,a.bottom=a.top+n,a=avoidBoxCollisions(t,a,s,REGION_AXIS),setBoxCSSVars(i,t,a,"region"),a}class CaptionsRenderer{overlay;z;A=0;C="ltr";B=[];D=!1;E;j=new Map;l=new Map;get dir(){return this.C}set dir(t){this.C=t,setDataAttr(this.overlay,"dir",t)}get currentTime(){return this.A}set currentTime(t){this.A=t,this.update()}constructor(t,e){this.overlay=t,this.dir=e?.dir??"ltr",t.setAttribute("translate","yes"),t.setAttribute("aria-live","off"),t.setAttribute("aria-atomic","true"),setPartAttr(t,"captions"),this.G(),this.E=new ResizeObserver(this.I.bind(this)),this.E.observe(t)}changeTrack({regions:t,cues:e}){this.reset(),this.J(t);for(const t of e)this.l.set(t,null);this.update()}addCue(t){this.l.set(t,null),this.update()}removeCue(t){this.l.delete(t),this.update()}update(t=!1){this.H(t)}reset(){this.l.clear(),this.j.clear(),this.B=[],this.overlay.textContent=""}destroy(){this.reset(),this.E.disconnect()}I(){this.D=!0,this.K()}K=debounce((()=>{this.D=!1,this.G();for(const t of this.j.values())t[STARTING_BOX]=null;for(const t of this.l.values())t&&(t[STARTING_BOX]=null);this.H(!0)}),50);G(){this.z=createBox(this.overlay),setCSSVar(this.overlay,"overlay-width",this.z.width+"px"),setCSSVar(this.overlay,"overlay-height",this.z.height+"px")}H(t=!1){if(!this.l.size||this.D)return;let e,i=[...this.l.keys()].filter((t=>this.A>=t.startTime&&this.A<=t.endTime)).sort(((t,e)=>t.startTime!==e.startTime?t.startTime-e.startTime:t.endTime-e.endTime)),s=i.map((t=>t.region));for(let r=0;r<this.B.length;r++){if(e=this.B[r],i[r]===e)continue;if(e.region&&!s.includes(e.region)){const i=this.j.get(e.region.id);i&&(i.removeAttribute("data-active"),t=!0)}const n=this.l.get(e);n&&(n.remove(),t=!0)}for(let s=0;s<i.length;s++){e=i[s];let r=this.l.get(e);r||this.l.set(e,r=this.L(e));const n=this.F(e)&&this.j.get(e.region.id);n&&!n.hasAttribute("data-active")&&(requestAnimationFrame((()=>setDataAttr(n,"active"))),t=!0),r.isConnected||((n||this.overlay).append(r),t=!0)}if(t){const t=[],s=new Set;for(let r=i.length-1;r>=0;r--){if(e=i[r],s.has(e.region||e))continue;const n=this.F(e),o=n?this.j.get(e.region.id):this.l.get(e);n?t.push(positionRegion(this.z,e.region,o,t)):t.push(positionCue(this.z,e,o,t)),s.add(n?e.region:e)}}updateTimedVTTCueNodes(this.overlay,this.A),this.B=i}J(t){if(t)for(const e of t){const t=this.M(e);this.j.set(e.id,t),this.overlay.append(t)}}M(t){const e=document.createElement("div");return setPartAttr(e,"region"),setDataAttr(e,"id",t.id),setDataAttr(e,"scroll",t.scroll),setCSSVar(e,"region-width",t.width+"%"),setCSSVar(e,"region-anchor-x",t.regionAnchorX),setCSSVar(e,"region-anchor-y",t.regionAnchorY),setCSSVar(e,"region-viewport-anchor-x",t.viewportAnchorX),setCSSVar(e,"region-viewport-anchor-y",t.viewportAnchorY),setCSSVar(e,"region-lines",t.lines),e}L(t){const e=document.createElement("div"),i=computeCuePosition(t),s=computeCuePositionAlignment(t,this.C);if(setPartAttr(e,"cue-display"),""!==t.vertical&&setDataAttr(e,"vertical"),setCSSVar(e,"cue-text-align",t.align),t.style)for(const i of Object.keys(t.style))e.style.setProperty(i,t.style[i]);if(this.F(t))setCSSVar(e,"cue-offset",i-("line-right"===s?100:"center"===s?50:0)+"%");else if(setCSSVar(e,"cue-writing-mode",""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl"),!t.style?.["--cue-width"]){let r=i;"line-left"===s?r=100-i:"center"===s&&i<=50?r=2*i:"center"===s&&i>50&&(r=2*(100-i));const n=t.size<r?t.size:r;""===t.vertical?setCSSVar(e,"cue-width",n+"%"):setCSSVar(e,"cue-height",n+"%")}const r=document.createElement("div");return setPartAttr(r,"cue"),t.id&&setDataAttr(r,"id",t.id),r.innerHTML=renderVTTCueString(t),e.append(r),e}F(t){return t.region&&100===t.size&&""===t.vertical&&"auto"===t.line}}export{CaptionsRenderer as C,ParseError as P,TextCue as T,VTTParser as V,VTTBlock as a,VTTCue as b,ParseErrorCode as c,parseResponse as d,parseByteStream as e,parseText as f,parseTextStream as g,VTTRegion as h,createVTTCueTemplate as i,renderVTTTokensString as j,parseVTTTimestamp as p,renderVTTCueString as r,tokenizeVTTCue as t,updateTimedVTTCueNodes as u};
//# sourceMappingURL=/sm/2294aac8008c573b79924d281e3b924f37a0905bec74e2c51454e28a3bf599ea.map