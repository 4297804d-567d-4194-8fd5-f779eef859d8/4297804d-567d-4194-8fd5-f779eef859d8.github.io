var elements;"undefined"!=typeof katex&&(elements=document.getElementsByTagName("script"),Array.prototype.forEach.call(elements,function(e){var t,o;-1!==e.type.indexOf("math/tex")&&(t=(t=e.innerText||e.textContent).replace(/%.*/g,""),o=document.createElement("span"),-1!==e.type.indexOf("mode=display")?(o.className+="math-display",t="\\displaystyle {"+t+"}"):o.className+="math-inline",katex.render(t,o),e.parentNode.insertBefore(o,e))})),document.addEventListener("DOMContentLoaded",function(){var o,e=[].slice.call(document.querySelectorAll("video.lazy"));"IntersectionObserver"in window&&(o=new IntersectionObserver(function(e,t){e.forEach(function(e){if(e.isIntersecting){for(var t in e.target.children){t=e.target.children[t];"string"==typeof t.tagName&&"SOURCE"===t.tagName&&(t.src=t.dataset.src)}e.target.load(),e.target.classList.remove("lazy"),o.unobserve(e.target)}})}),e.forEach(function(e){o.observe(e)}))});try{var elem=document.querySelector(".grid"),msnry=new Masonry(elem,{itemSelector:".grid-item",columnWidth:".grid-sizer",gutter:".gutter-sizer",percentPosition:!0}),imgLoad=imagesLoaded(elem);imgLoad.on("progress",function(e,t){msnry.layout()})}catch(e){if(!(e instanceof ReferenceError))throw e}function updateYoutubeSize(){"undefined"!=typeof ytdefer_aspect_ratio_inverted&&(document.querySelectorAll(".ytdefer").forEach(function(e){var t;e.style.width=e.parentElement.offsetWidth+"px";const o=e.querySelector('[id^="ytdefer_vid"]');o&&(t=o.offsetWidth*ytdefer_aspect_ratio_inverted(e),e.style.height=t+"px",o.style.border="0.1rem solid black")}),document.querySelectorAll(".video-container").forEach(function(e){var t=e.parentElement.offsetWidth,t=(e.style.width=t+"px",t*ytdefer_aspect_ratio_inverted(e));e.style.height=t+"px",e.style.backgroundColor=null,e.style.paddingTop=null;const o=e.querySelector("iframe");o&&(t=o.offsetWidth*ytdefer_aspect_ratio_inverted(e),o.height=t+"px")}),ytdefer_resize())}function loopYoutubeResize(){updateYoutubeSize(),setTimeout(loopYoutubeResize,300)}document.addEventListener("DOMContentLoaded",function(e){const t=document.getElementById("pull"),o=document.querySelector("nav ul");t?.addEventListener("click",function(e){o?.classList.toggle("hide")}),window.addEventListener("scroll",function(){var e=window.pageYOffset|document.body.scrollTop;const t=document.getElementById("main")?.style;t&&(t.backgroundPosition="center "+parseInt(-e/3)+"px, 0%, center top")})}),document.addEventListener("DOMContentLoaded",function(){for(const t of document.querySelectorAll("a")){var e;t.hasAttribute("href")&&((e=new URL(t.href)).hostname!==window.location.hostname&&(t.setAttribute("target","_blank"),"www.youtube.com"===e.hostname?t.setAttribute("rel","noopener"):t.setAttribute("rel","noopener noreferrer")))}});const onLoadBeforeYoutube=window.onload;window.onload=function(){onLoadBeforeYoutube&&onLoadBeforeYoutube(),"undefined"!=typeof ytdefer_setup&&(ytdefer_setup(),loopYoutubeResize())};for(const G of["resize","orientationchange"])window.addEventListener(G,updateYoutubeSize);